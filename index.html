<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢ & ‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°</title>
  <style>
    body{
      font-family: "Sarabun", sans-serif;
      background: linear-gradient(135deg,#4facfe,#00f2fe);
      margin:0;
      padding:0;
      display:flex;
      justify-content:center;
      align-items:center;
      height:100vh;
      color:#333;
    }

    .game-box{
      background:white;
      padding:25px;
      border-radius:20px;
      box-shadow:0 10px 25px rgba(0,0,0,0.2);
      width:440px;
      text-align:center;
    }

    h1{
      margin-top:0;
      color:#0077ff;
    }

    select, input, button{
      padding:10px;
      margin:8px 0;
      width:100%;
      border-radius:10px;
      border:1px solid #ccc;
      font-size:16px;
    }

    button{
      background:#0077ff;
      color:white;
      border:none;
      cursor:pointer;
      transition:0.3s;
    }

    button:hover{
      background:#005fcc;
    }

    .formula{
      background:#f2f6ff;
      padding:12px;
      border-radius:12px;
      margin-top:12px;
      font-size:15px;
      text-align:left;
      line-height:1.6;
    }

    .status{
      margin-top:10px;
      font-weight:bold;
      font-size:18px;
    }

    .correct{ color:green; }
    .wrong{ color:red; }

    .score{
      margin-top:10px;
      color:#ff5500;
      font-weight:bold;
    }
  </style>
</head>
<body>

<div class="game-box">
  <h1>üéÆ ‡πÄ‡∏Å‡∏°‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢</h1>

  <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Å‡∏°</label>
  <select id="mode">
    <option value="simple">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ñ‡∏á‡∏ï‡πâ‡∏ô</option>
    <option value="compound">‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏ö‡∏ï‡πâ‡∏ô</option>
    <option value="geo">‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï</option>
  </select>

  <input type="number" id="p" placeholder="‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡πâ‡∏ô (P)">
  <input type="number" id="r" placeholder="‡∏≠‡∏±‡∏ï‡∏£‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô 0.05">
  <input type="number" id="n" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏õ‡∏µ / ‡∏á‡∏ß‡∏î (n)">

  <button onclick="randomQuestion()">‡∏™‡∏∏‡πà‡∏°‡πÇ‡∏à‡∏ó‡∏¢‡πå</button>

  <input type="number" id="userAnswer" placeholder="‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì">
  <button onclick="checkAnswer()">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>

  <div class="formula" id="formula">‡∏™‡∏π‡∏ï‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</div>
  <div class="status" id="status"></div>
  <div class="score" id="score">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: 0</div>
</div>

<script>
let score = 0;
let correctAnswer = 0;

function calculateAnswer(){
  let mode = document.getElementById("mode").value;
  let P = parseFloat(document.getElementById("p").value);
  let r = parseFloat(document.getElementById("r").value);
  let n = parseFloat(document.getElementById("n").value);

  let A = 0;
  let formulaText = "";

  if(mode === "simple"){
    A = P * (1 + n*r);
    formulaText = `
      <b>‡∏™‡∏π‡∏ï‡∏£‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏Ñ‡∏á‡∏ï‡πâ‡∏ô</b><br>
      A = P(1 + nr)<br>
      = ${P}(1 + ${n} √ó ${r})<br>
      = ${A.toFixed(2)} ‡∏ö‡∏≤‡∏ó
    `;
  }

  else if(mode === "compound"){
    A = P * Math.pow((1+r), n);
    formulaText = `
      <b>‡∏™‡∏π‡∏ï‡∏£‡∏î‡∏≠‡∏Å‡πÄ‡∏ö‡∏µ‡πâ‡∏¢‡∏ó‡∏ö‡∏ï‡πâ‡∏ô</b><br>
      A = P(1 + r)<sup>n</sup><br>
      = ${P}(1 + ${r})<sup>${n}</sup><br>
      = ${A.toFixed(2)} ‡∏ö‡∏≤‡∏ó
    `;
  }

  else if(mode === "geo"){
    A = P * ((Math.pow(r,n) - 1) / (r - 1));
    formulaText = `
      <b>‡∏™‡∏π‡∏ï‡∏£‡∏≠‡∏ô‡∏∏‡∏Å‡∏£‡∏°‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï</b><br>
      S‚Çô = a‚ÇÅ(r‚Åø ‚àí 1)/(r ‚àí 1)<br>
      = ${P}(${r}<sup>${n}</sup> ‚àí 1)/(${r} ‚àí 1)<br>
      = ${A.toFixed(2)} ‡∏ö‡∏≤‡∏ó
    `;
  }

  document.getElementById("formula").innerHTML = formulaText;
  correctAnswer = A;
}

function checkAnswer(){
  calculateAnswer();

  let userAns = parseFloat(document.getElementById("userAnswer").value);
  let status = document.getElementById("status");

  if(isNaN(userAns)){
    status.innerText = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô";
    status.className = "status wrong";
    return;
  }

  if(Math.abs(userAns - correctAnswer) < 0.01){
    status.innerText = "‚úÖ ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á!";
    status.className = "status correct";
    score += 10;
  }else{
    status.innerText = "‚ùå ‡∏ú‡∏¥‡∏î!";
    status.className = "status wrong";
  }

  document.getElementById("score").innerText = "‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: " + score;
}

function randomQuestion(){
  let P = Math.floor(Math.random()*9000)+1000;
  let r = (Math.random()*0.09+0.01).toFixed(2);
  let n = Math.floor(Math.random()*10)+1;

  document.getElementById("p").value = P;
  document.getElementById("r").value = r;
  document.getElementById("n").value = n;
  document.getElementById("userAnswer").value = "";
  document.getElementById("status").innerText = "";
  document.getElementById("formula").innerHTML = "‡∏™‡∏π‡∏ï‡∏£‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà";
}
</script>

</body>
</html>

